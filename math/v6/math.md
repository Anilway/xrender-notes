$$
B(t) = (1 - t)^2P_0 + 2t(1 - t)P_1 + t^2P_2, t \in [0, 1]
$$

##### 二次
> $$公式：B(t) = (1 - t)^2P_0 + 2t(1 - t)P_1 + t^2P_2, t \in [0, 1]$$
> $$求导：(2t - 2)P_0 + (2 - 4t)P_1 + 2tP_2 = 0$$
> $$化简：(P_0 - 2P_1 + P_2)t - P_0 + P_1 = 0$$
> 系数为0时易知`t = 0.5`时有极限值，否则
> $$t = \frac{P_0 - P_1}{P_0 + P_2 - 2P_1}$$

##### 三次
> $$公式：B(t) = (1 - t)^3P_0 + t(1 - t)^2 3P_1 + t^2(1 - t)3P_2 + t^3P_3, t \in [0, 1]$$
> $$求导：(-3t^2 + 6t - 3)P_0 + (3t^2 - 4t + 1)3P_1 + (-3t^2 + 2t)3P_2 + 3t^2P_3 = 0$$
> $$化简：(-3P_0 + 9P_1 - 9P_2 + 3P_3)t^2 + (6P_0 - 12P_1 + 6P_2)t - 3P_0 + 3P_1 = 0$$
> $$令a = -3P_0 + 9P_1 - 9P_2 + 3P_3$$
> $$令b = 6P_0 - 12P_1 + 6P_2$$
> $$令c = - 3P_0 + 3P_1$$
> 同样的，首先考虑二次项系数a为0时
> 1. 如果一次项b系数也为0，那么最大值无穷大。
> 2. 否则有一个最值，此时
> $$t = \frac{-c}{b}$$
> 然后就是求一元二次方程的解了，此处不再赘述。

> $$假设两点为(x_0, y_0)，(x_1, y_1)，目标点为(x, y)，线宽为l$$
> $$令a = \frac{y_0 - y_1}{x_0 - x_1}，b = y_0 - ax_0$$
> $$则线段函数为Y(x) = ax + b$$
> $$代入x可得检测点和函数原始点的距离t = |ax + b - y|$$
> $$而y轴和线段所在直线的交叉长度s = \sqrt{(a^2 + 1)l^2}$$
> $$显然，如果t <= \frac{s}{2}，则可判定包含$$
> $$即，t^2 <= \frac{s^2}{4}$$

$$
B(t) = (1 - t)^2P_0 + 2t(1 - t)P_1 + t^2P_2, t \in [0, 1]
$$
此处的t，并不等于
$$ \frac{x - x_0}{x1 - x0}$$

> $$假设线段从(x_0, y_0)到(x_1, y_1)，待检测点为(x, y)$$
> $$如果线段水平，即y_1 = y_0，并且y != y_1，那么不用再检测，返回0即可$$
> $$首先得出线段的方程为X(y) = \frac{x_0 - x_1}{y_0 - y_1}(y - y_0) + x_0$$
> $$那么水平线和线段的交点x' = X(y)$$
> $$如果x = x'，可知此点就在线段上，返回无穷大$$
> $$如果x < x'，可知线段待检测点的左侧，即没有交点，返回0$$
> $$如果x > x'，如果y_1 < y_0(在canvas坐标系中y_1 > y_0)，就像图中所示一样，为逆时针，返回-1，反之返回1$$
> $$以上面为基础，如果y_0 = y或者y = y_1，返回结果除以2$$
可以写出如下代码。



> $$设弧的圆心在(x_0, y_0)，半径为r，角度为\alpha到\beta，待检测点坐标为(x, y)$$
> $$则可求出直线y=y与圆（不是弧）的交点(x', y), (x_1', y)$$
> $$取二者横坐标大于x的点（可能两个点都满足，下面假设只有一个），求出交点所在半径的角度\theta$$
> $$如果\theta在\alpha到\beta之间，则根据\theta的范围和圆弧是顺时针还是逆时针来决定返回1或-1，否则返回0$$